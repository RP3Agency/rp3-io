// Related Work
.related-work {
	@extend %clearfix;
	background-color: $blue;
	clear: both;
	color: $black;
	font-size: rem( 12px );
	margin-top: -1px; // Fix to prevent a thin white line from appearing when stacking responsive images
	padding: {
		top: rem( 75px );
		bottom: rem( 75px );
	}
	position: relative; // Again with the thin white line fix. Without this, the blue will appear _behind_ the image above it. :-(
	@include side-padding( "new" );

	&__container {
		margin: {
			right: auto;
			left: auto;
		}
		max-width: rem( 1600px );
		width: percentage( 250px / 310px );

		@include breakpoint( $bp-medium ) {
			width: 100%;
		}

		@include breakpoint( $bp-marge ) {
			// flexbox
			align-items: stretch;
			display: flex;
			justify-content: flex-start;

			// no-flexbox
			@include modernizr( "no-flexbox" ) {
				@include container( rem(1600px ) );
			}
		}
	}

	&__header {

		h2 {
			color: $white;
			font-size: em( 16px, 12px );
			margin-bottom: rem( 75px );
		}

		@include breakpoint( $bp-marge ) {
			margin: {
				right: gutter();
				bottom: 0;
			}
			position: relative;
			width: span( 6 );

			@include modernizr( "no-flexbox" ) {
				@include span( 6 );
			}

			h2 {
				position: absolute;
				top: 50%;
				transform: translate( 0, -50% );

				@include modernizr( "no-flexbox" ) {
					position: static;
					transform: none;
				}
			}
		}
	}

	&__list {

		@include breakpoint( $bp-medium ) {
			// flexbox
			align-items: stretch;
			display: flex;
			justify-content: flex-start;
			margin: 0;
			width: 100%;

			@include modernizr( "no-flexbox" ) {
				@include container;
			}
		}

		@include breakpoint( $bp-marge ) {
			width: span( 18 of 24 );

			@include modernizr( "no-flexbox" ) {
				@include span( 18 of 24 at 7 );
			}
		}
	}

	&__item {
		background-color: $white;
		margin-bottom: 1em;

		@include breakpoint( $bp-medium ) {
			// flexbox
			margin: {
				right: gutter();
				bottom: 0;
				left: 0;
			}
			max-width: none;
			width: span( 6 of 18 );

			&:last-child {
				margin-right: 0;
			}

			// no flexbox
			@include modernizr( "no-flexbox" ) {
				@include span( 8 );

				&:last-child {
					margin-right: 0;
				}
			}
		}

		@include breakpoint( $bp-marge ) {

			@include modernizr( "no-flexbox" ) {
				@include span( 6 of 18 );

				&:last-child {
					margin-right: 0;
				}
			}
		}
	}

	&__label {
		overflow: hidden;
		padding: em( 30px, 12px );
	}

	&__title {
		font-size: em( 22px, 12px );
	}
}
